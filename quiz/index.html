<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Interativo - Final</title>
    <style>
        :root {
            --primary-color: #3498db;
            --success-color: #2ecc71;
            --error-color: #e74c3c;
            --retry-color: #e67e22;
            --skip-color: #95a5a6; /* Cinza suave */
            --eliminated-color: #aaa;
            --text-color: #333;
            --bg-color: #f4f7f6;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            color: var(--text-color);
        }

        .container {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            width: 90%;
            max-width: 600px;
        }

        /* CABE√áALHO REESTRUTURADO */
        header {
            margin-bottom: 1.5rem;
            border-bottom: 1px solid #eee;
            padding-bottom: 1rem;
            display: flex;
            justify-content: space-between; /* Separa Contador e Pular */
            align-items: center;
            height: 30px; /* Altura fixa para evitar pulos */
        }

        .question-counter {
            font-weight: bold;
            color: #7f8c8d;
        }

        /* ESTILO SUTIL DO BOT√ÉO PULAR */
        .skip-btn {
            background: none;
            border: none;
            color: var(--skip-color);
            cursor: pointer;
            font-size: 0.9rem;
            transition: color 0.3s;
            padding: 5px 10px;
            display: none; /* Controlado via JS */
        }

        .skip-btn:hover {
            color: #555;
            text-decoration: underline;
        }

        .question-text {
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
            font-weight: 600;
        }

        .options-list {
            list-style: none;
            padding: 0;
            padding-left: 10px;
        }

        .option {
            background: #f9f9f9;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 12px 15px;
            margin-bottom: 15px;
            margin-left: 35px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }
        
        .elimination-toggle {
            position: absolute;
            left: -35px;
            top: 50%;
            transform: translateY(-50%);
            width: 30px; 
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--error-color);
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.2s, background 0.2s;
            background: transparent;
            border-radius: 50%;
        }

        .option:hover:not(.disabled) .elimination-toggle { opacity: 1; }
        .elimination-toggle:hover { background-color: #ffeaea; }
        .option:hover:not(.disabled) { border-color: var(--primary-color); }
        .option.disabled { cursor: default; pointer-events: none; }

        .option.eliminated {
            background-color: #f0f0f0;
            color: var(--eliminated-color);
            border-color: #ddd;
            text-decoration: line-through;
            pointer-events: none; 
        }
        
        .option.eliminated .elimination-toggle {
            color: var(--primary-color);
            opacity: 1;
            pointer-events: all;
            left: -35px;
        }

        .option.correct {
            border-color: var(--success-color);
            background-color: #e8f8f0;
            color: #155724;
            text-decoration: none !important;
            opacity: 1;
        }

        .option.incorrect {
            border-color: var(--error-color);
            background-color: #fde8e8;
            color: #721c24;
        }

        .feedback-msg { display: block; font-size: 0.85rem; margin-top: 5px; font-weight: bold; }
        .icon { float: right; font-weight: bold; }

        .hint-section { margin-top: 1rem; }
        .hint-toggle { background: none; border: none; color: var(--primary-color); cursor: pointer; text-decoration: underline; font-size: 0.9rem; padding: 0; }
        .hint-content { display: none; margin-top: 5px; padding: 10px; background: #fff3cd; border-radius: 5px; font-size: 0.9rem; color: #856404; }

        .explanation-box { margin-top: 1.5rem; padding: 1rem; border-radius: 8px; background-color: #e2e3e5; display: none; }
        .explanation-box h4 { margin-top: 0; margin-bottom: 0.5rem; }

        .next-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            width: 100%;
            margin-top: 1.5rem;
            display: none;
        }
        .next-btn:hover { background-color: #2980b9; }

        #result-screen { text-align: center; display: none; }
        .score-circle { font-size: 3rem; font-weight: bold; color: var(--primary-color); margin: 2rem 0; }
        
        .btn-group { display: flex; gap: 10px; justify-content: center; margin-top: 20px; }
        .retry-btn { background-color: var(--retry-color); color: white; border: none; padding: 12px 24px; border-radius: 6px; cursor: pointer; font-size: 1rem; width: 100%; }
        .retry-btn:hover { background-color: #d35400; }
        .restart-btn { background-color: #95a5a6; color: white; border: none; padding: 12px 24px; border-radius: 6px; cursor: pointer; font-size: 1rem; width: 100%; }
        .restart-btn:hover { background-color: #7f8c8d; }
    </style>
</head>
<body>

    <div class="container">
        <div id="quiz-screen">
            <header>
                <span id="question-counter" class="question-counter">Carregando...</span>
                <button class="skip-btn" id="skip-btn" onclick="skipQuestion()">Pular ‚è≠</button>
            </header>
            
            <div id="question-container">
                <div class="question-text" id="question-text"></div>
                
                <ul class="options-list" id="options-list"></ul>

                <div class="hint-section">
                    <button class="hint-toggle" onclick="toggleHint()">üí° Dica</button>
                    <div class="hint-content" id="hint-text"></div>
                </div>

                <div class="explanation-box" id="explanation-box">
                    <h4>Explica√ß√£o:</h4>
                    <p id="explanation-text"></p>
                </div>
            </div>

            <button class="next-btn" id="next-btn" onclick="nextQuestion()">Avan√ßar ‚ûú</button>
        </div>

        <div id="result-screen">
            <h2>Quiz Finalizado!</h2>
            <div class="score-circle" id="final-score">0%</div>
            <p id="result-summary"></p>
            
            <div class="btn-group">
                <button class="retry-btn" id="retry-btn" onclick="retryWrongAnswers()" style="display:none">
                    ‚Ü∫ Refazer Erradas
                </button>
                <button class="restart-btn" onclick="location.reload()">
                    Reiniciar Tudo
                </button>
            </div>
        </div>
    </div>

    <script>
        // --- 1. DADOS ---
        const MASTER_DATA = [
    {
        question: "Qual √© o Regulamento Brasileiro da Avia√ß√£o Civil Especial que rege os requisitos gerais para Aeronaves Remotamente Pilotadas (RPAS) de uso civil?",
        options: ["RBAC-E 94", "ICA 100-40", "MCA 56-2", "Lei 7.565"],
        correct: 0,
        hint: "√â uma norma emitida pela ANAC.",
        explanation: "O RBAC-E n¬∫ 94 da ANAC √© a regulamenta√ß√£o principal que trata dos requisitos gerais de compet√™ncia para aeronaves n√£o tripuladas de uso civil."
    },
    {
        question: "Qual √≥rg√£o √© respons√°vel pelo controle e acesso ao Espa√ßo A√©reo Brasileiro?",
        options: ["ANAC", "DECEA", "ANATEL", "MAPFRE"],
        correct: 1,
        hint: "√â um departamento ligado √† For√ßa A√©rea Brasileira.",
        explanation: "O DECEA (Departamento de Controle do Espa√ßo A√©reo) √© respons√°vel por regulamentar o acesso ao espa√ßo a√©reo, conforme a ICA 100-40."
    },
    {
        question: "Qual documento certifica a homologa√ß√£o do equipamento de radiofrequ√™ncia (controle e drone) no Brasil?",
        options: ["Certificado de Matr√≠cula (ANAC)", "Seguro RETA", "Certificado de Homologa√ß√£o da ANATEL", "Licen√ßa de Piloto"],
        correct: 2,
        hint: "Ag√™ncia Nacional de Telecomunica√ß√µes.",
        explanation: "A ANATEL √© respons√°vel pela homologa√ß√£o de equipamentos que emitem radiofrequ√™ncia, e o selo deve estar afixado no equipamento."
    },
    {
        question: "De acordo com a classifica√ß√£o de RPAS no RBAC-E 94, qual √© o peso m√°ximo de decolagem (PMD) para a Classe 3?",
        options: ["At√© 250g", "Menor ou igual a 25 kg", "Entre 25 kg e 150 kg", "Acima de 150 kg"],
        correct: 1,
        hint: "Esta √© a classe mais comum para drones comerciais leves.",
        explanation: "A Classe 3 engloba aeronaves com Peso M√°ximo de Decolagem (PMD) menor ou igual a 25 kg."
    },
    {
        question: "Qual √© a idade m√≠nima exigida para atuar como Piloto Remoto de um drone n√£o recreativo?",
        options: ["16 anos", "18 anos", "21 anos", "N√£o h√° idade m√≠nima"],
        correct: 1,
        hint: "Corresponde √† maioridade civil no Brasil.",
        explanation: "Conforme os requisitos para piloto e observador listados no documento, √© necess√°rio ser maior de 18 anos."
    },
    {
        question: "O que √© o Seguro RETA, obrigat√≥rio para opera√ß√µes n√£o recreativas (e recreativas acima de 250g)?",
        options: ["Seguro contra roubo do equipamento", "Seguro de Responsabilidade do Explorador e Transportador A√©reo", "Seguro de vida do piloto", "Seguro de garantia estendida"],
        correct: 1,
        hint: "Cobre danos a terceiros.",
        explanation: "O Seguro RETA √© obrigat√≥rio para cobrir danos a terceiros na superf√≠cie, conforme exigido para voos n√£o recreativos e drones acima de 250g."
    },
    {
        question: "√â permitida a 'opera√ß√£o aut√¥noma' de aeronaves n√£o tripuladas segundo a regulamenta√ß√£o atual?",
        options: ["Sim, em qualquer situa√ß√£o", "Sim, apenas para √≥rg√£os p√∫blicos", "N√£o, √© proibida", "Sim, se o drone tiver IA"],
        correct: 2,
        hint: "Aut√¥nomo √© diferente de automatizado. Aut√¥nomo n√£o permite interven√ß√£o do piloto.",
        explanation: "Conforme as regras gerais de opera√ß√£o do RBAC-E 94 citadas no documento, √© expressamente proibida a opera√ß√£o aut√¥noma de aeronaves n√£o tripuladas."
    },
    {
        question: "O que significa a sigla VLOS?",
        options: ["Visual Line of Sight (Opera√ß√£o em Linha de Visada Visual)", "Very Low Operation System", "Virtual Landing Operation System", "Visual Light on Sky"],
        correct: 0,
        hint: "Refere-se a ver o drone a olho nu.",
        explanation: "VLOS significa que o piloto mant√©m contato visual direto com a aeronave, sem aux√≠lio de lentes (exceto corretivas) ou outros equipamentos."
    },
    {
        question: "Qual sistema do DECEA √© utilizado para solicitar acesso ao espa√ßo a√©reo por aeronaves n√£o tripuladas?",
        options: ["SISANT", "SARPAS", "SIGMA", "SISFRON"],
        correct: 1,
        hint: "Sistema de Solicita√ß√£o de Acesso de Aeronaves Remotamente Pilotadas.",
        explanation: "O SARPAS √© o sistema desenvolvido pelo DECEA para facilitar a solicita√ß√£o de acesso ao espa√ßo a√©reo."
    },
    {
        question: "Segundo a ICA 100-40, qual a dist√¢ncia m√≠nima de um Heliponto para um voo de at√© 100 p√©s (aproximadamente 30 metros) de altura?",
        options: ["500 metros", "1130 metros", "1740 metros", "2350 metros"],
        correct: 1,
        hint: "Verifique a tabela de dist√¢ncias para opera√ß√µes na ZAD ou entorno.",
        explanation: "Para opera√ß√µes at√© 100 p√©s de altura, a dist√¢ncia m√≠nima de helipontos cadastrados √© de 1.130 metros."
    },
    {
        question: "Quem √© o 'Piloto em Comando'?",
        options: ["Apenas quem segura o controle remoto", "O propriet√°rio do drone, mesmo que n√£o saiba voar", "O piloto respons√°vel pela opera√ß√£o e seguran√ßa do voo", "O observador auxiliar"],
        correct: 2,
        hint: "Ele tem a autoridade final sobre a opera√ß√£o.",
        explanation: "O Piloto em Comando √© o respons√°vel pela opera√ß√£o e seguran√ßa do voo, ou seja, √© a pessoa que possui a autoridade final e a responsabilidade total pela opera√ß√£o e seguran√ßa do voo."
    },
    {
        question: "Qual documento da Aeron√°utica (DECEA) regula o acesso de drones ao espa√ßo a√©reo?",
        options: ["RBAC-E 94", "ICA 100-40", "Lei do Aeronauta", "C√≥digo Penal"],
        correct: 1,
        hint: "Instru√ß√£o do Comando da Aeron√°utica.",
        explanation: "A ICA 100-40 regulamenta os procedimentos e responsabilidades para o acesso seguro ao Espa√ßo A√©reo Brasileiro por RPAS."
    },
    {
        question: "Para voos recreativos (aeromodelismo), qual norma espec√≠fica do DECEA deve ser seguida?",
        options: ["MCA 56-2", "MCA 56-5", "ICA 100-40 apenas", "RBAC 121"],
        correct: 0,
        hint: "Manual do Comando da Aeron√°utica para uso recreativo.",
        explanation: "O MCA 56-2 trata especificamente de aeronaves n√£o tripuladas para uso recreativo (aeromodelos)."
    },
    {
        question: "O que caracteriza uma opera√ß√£o BVLOS?",
        options: ["Opera√ß√£o noturna", "Opera√ß√£o Al√©m da Linha de Visada Visual", "Opera√ß√£o com observadores", "Opera√ß√£o acima de 400 p√©s"],
        correct: 1,
        hint: "Beyond Visual Line of Sight.",
        explanation: "BVLOS (Beyond Visual Line of Sight) √© o tipo de opera√ß√£o onde o piloto n√£o consegue manter a aeronave dentro do seu alcance visual direto."
    },
    {
        question: "Qual √© a responsabilidade do Observador de RPA?",
        options: ["Pilotar o drone em caso de emerg√™ncia", "Apenas tirar fotos", "Auxiliar o piloto na condu√ß√£o segura do voo mantendo contato visual com a aeronave", "Controlar a bateria"],
        correct: 2,
        hint: "Ele √© os 'olhos' do piloto quando necess√°rio.",
        explanation: "O Observador de RPA auxilia o piloto remoto na condu√ß√£o segura do voo atrav√©s da observa√ß√£o visual da aeronave, mantendo comunica√ß√£o permanente."
    },
    {
        question: "Qual a altura m√°xima permitida para voos de drones (Classe 3) sem necessidade de autoriza√ß√µes especiais de espa√ßo a√©reo segregado?",
        options: ["120 metros (400 p√©s)", "50 metros", "500 metros", "1000 p√©s"],
        correct: 0,
        hint: "Equivale a aproximadamente um pr√©dio de 40 andares.",
        explanation: "A regra geral para opera√ß√µes padr√£o (VFR) permite voos at√© 400 p√©s (aproximadamente 120 metros) de altura AGL (Above Ground Level)."
    },
    {
        question: "√â permitido o transporte de pessoas em drones (Classe 3 padr√£o)?",
        options: ["Sim, se o drone aguentar o peso", "N√£o, √© proibido", "Sim, em √°reas rurais", "Sim, com autoriza√ß√£o do corpo de bombeiros"],
        correct: 1,
        hint: "Regra de seguran√ßa b√°sica do RBAC-E 94.",
        explanation: "√â proibido o transporte de pessoas, animais e produtos perigosos em aeronaves n√£o tripuladas, salvo exce√ß√µes regulamentadas especificamente."
    },
    {
        question: "Qual √≥rg√£o √© respons√°vel pela investiga√ß√£o de acidentes aeron√°uticos envolvendo drones?",
        options: ["Pol√≠cia Civil", "CENIPA", "ANATEL", "Guarda Municipal"],
        correct: 1,
        hint: "Centro de Investiga√ß√£o e Preven√ß√£o de Acidentes Aeron√°uticos.",
        explanation: "O CENIPA √© o √≥rg√£o respons√°vel pela investiga√ß√£o de acidentes e incidentes aeron√°uticos no Brasil."
    },
    {
        question: "Qual √© a puni√ß√£o prevista no C√≥digo Brasileiro de Aeron√°utica (CBA) para infra√ß√µes administrativas?",
        options: ["Apenas advert√™ncia verbal", "Multa, suspens√£o ou cassa√ß√£o de certificados", "Pris√£o perp√©tua", "Servi√ßo comunit√°rio"],
        correct: 1,
        hint: "Impacta o bolso e a licen√ßa do piloto.",
        explanation: "O CBA prev√™ san√ß√µes como multa, suspens√£o ou cassa√ß√£o de certificados, habilita√ß√µes e autoriza√ß√µes."
    },
    {
        question: "Para operar √† noite, al√©m das regras de acesso ao espa√ßo a√©reo, o que a aeronave deve possuir?",
        options: ["C√¢mera de vis√£o noturna", "Luzes de navega√ß√£o/colis√£o conforme a ICA 100-12", "Motor silencioso", "Autoriza√ß√£o da prefeitura"],
        correct: 1,
        hint: "Necess√°rio para que a aeronave seja vista.",
        explanation: "O acesso ao espa√ßo a√©reo noturno exige o cumprimento do item sobre luzes a serem exibidas pelas aeronaves (ICA 100-12)."
    },
    {
        question: "O que √© SISANT?",
        options: ["Sistema de An√°lise de Tempo", "Sistema de Aeronaves N√£o Tripuladas (Cadastro da ANAC)", "Sistema de Seguran√ßa Nacional", "Sistema de Navega√ß√£o T√°tica"],
        correct: 1,
        hint: "Onde voc√™ cadastra o drone na ANAC.",
        explanation: "SISANT √© o sistema da ANAC onde √© feito o cadastro de aeronaves n√£o tripuladas de uso recreativo ou n√£o recreativo (at√© 25kg)."
    },
    {
        question: "Qual manual regula as Opera√ß√µes A√©reas Especiais para √≥rg√£os p√∫blicos (Seguran√ßa P√∫blica, Defesa Civil, etc.)?",
        options: ["MCA 56-2", "MCA 56-5", "RBAC 94", "CTB"],
        correct: 1,
        hint: "Diferente do manual recreativo.",
        explanation: "O MCA 56-5 regulamenta aeronaves n√£o tripuladas para uso exclusivo em opera√ß√µes a√©reas especiais e √≥rg√£os p√∫blicos."
    },
    {
        question: "Em caso de acidente aeron√°utico, qual ferramenta deve ser usada para comunica√ß√£o ao CENIPA?",
        options: ["Boletim de Ocorr√™ncia Policial", "Relat√≥rio de Preven√ß√£o (RELPREV)", "Email para o fabricante", "Postagem em rede social"],
        correct: 1,
        hint: "Ferramenta espec√≠fica da filosofia SIPAER.",
        explanation: "O preenchimento do RELPREV (Relat√≥rio de Preven√ß√£o) √© uma das ferramentas mais importantes para a comunica√ß√£o de ocorr√™ncias ao CENIPA."
    },
    {
        question: "O cadastro do drone na ANAC (SISANT) √© obrigat√≥rio para aeronaves com peso acima de:",
        options: ["100g", "250g", "500g", "1kg"],
        correct: 1,
        hint: "Mesmo limite que exige seguro RETA para uso n√£o recreativo.",
        explanation: "Toda aeronave n√£o tripulada acima de 250 gramas de peso m√°ximo de decolagem deve ser cadastrada na ANAC."
    },
    {
        question: "Qual artigo do C√≥digo Penal trata sobre 'Expor a perigo aeronave, pr√≥pria ou alheia, ou praticar ato tendente a impedir ou dificultar navega√ß√£o a√©rea'?",
        options: ["Art. 121", "Art. 157", "Art. 261", "Art. 33"],
        correct: 2,
        hint: "Crime contra a seguran√ßa dos meios de transporte.",
        explanation: "O Art. 261 do C√≥digo Penal define como crime a exposi√ß√£o a perigo de aeronave ou atos que dificultem a navega√ß√£o a√©rea."
    },
    {
        question: "O que √© Avalia√ß√£o de Risco Operacional (ARO)?",
        options: ["Uma prova para o piloto", "Um documento que analisa perigos, probabilidade e severidade da opera√ß√£o", "O c√°lculo de custo do drone", "A previs√£o do tempo"],
        correct: 1,
        hint: "Essencial para a seguran√ßa operacional (Safety).",
        explanation: "A Avalia√ß√£o de Risco Operacional identifica perigos e analisa os riscos (probabilidade x severidade) para mitig√°-los a n√≠veis aceit√°veis."
    },
    {
        question: "Segundo a filosofia SIPAER citada na ICA 100-40, qual √© a premissa sobre acidentes?",
        options: ["Acidentes s√£o inevit√°veis", "Todo acidente aeron√°utico pode ser evitado", "A culpa √© sempre do piloto", "Acidentes ocorrem por acaso"],
        correct: 1,
        hint: "Princ√≠pio b√°sico da preven√ß√£o.",
        explanation: "Um dos princ√≠pios da filosofia SIPAER √© que 'Todo acidente aeron√°utico pode ser evitado'."
    },
    {
        question: "Qual a dist√¢ncia m√≠nima de aer√≥dromos para voos na ZAD (Zona de Aproxima√ß√£o e Decolagem) se a altura for entre 100 e 200 p√©s?",
        options: ["1700 m", "2630 m", "3550 m", "4480 m"],
        correct: 1,
        hint: "Verifique o quadro-resumo dos par√¢metros da ICA 100-40.",
        explanation: "Conforme a tabela da ICA 100-40, para voos entre 100 ft e 200 ft na ZAD, a dist√¢ncia m√≠nima √© de 2.630 metros."
    },
    {
        question: "Quem responde pelos danos a terceiros na superf√≠cie causados por uma aeronave em voo?",
        options: ["O fabricante", "A ANAC", "O operador", "O vendedor da loja"],
        correct: 2,
        hint: "Baseado no C√≥digo Brasileiro de Aeron√°utica.",
        explanation: "O Art. 268 do CBA define que o explorador (Operador) responde pelos danos a terceiros na superf√≠cie causados por aeronave em voo."
    },
	{
        question: "O que define uma 'Aeronave N√£o Tripulada Aut√¥noma' segundo a regulamenta√ß√£o?",
        options: ["Aeronave que permite interven√ß√£o do piloto a qualquer momento", "Aeronave que n√£o permite interven√ß√£o do piloto na condu√ß√£o do voo", "Aeronave que voa apenas em linha reta", "Aeronave controlada por intelig√™ncia artificial com supervis√£o"],
        correct: 1,
        hint: "A palavra-chave √© a impossibilidade de interven√ß√£o humana.",
        explanation: "Conforme as defini√ß√µes da ICA 100-40, a principal caracter√≠stica que a diferencia de uma Aeronave Remotamente Pilotada (RPA) √© a aus√™ncia de controle em tempo real por um piloto remoto."
    },
    {
        question: "Qual √© a defini√ß√£o de 'Carga √ötil' (Payload) em um RPAS?",
        options: ["Baterias e motores", "Elementos da aeronave n√£o necess√°rios para o voo, mas carregados para a miss√£o (ex: c√¢mera)", "O peso total da aeronave", "O combust√≠vel extra"],
        correct: 1,
        hint: "√â o que o drone 'carrega' para realizar o trabalho.",
        explanation: "Carga √ötil (Payload) s√£o todos os elementos da aeronave n√£o necess√°rios para o voo e pilotagem, mas carregados para cumprir objetivos de uma miss√£o espec√≠fica."
    },
    {
        question: "Segundo o RBAC-E 94, aeronaves Classe 1 possuem Peso M√°ximo de Decolagem (PMD) de:",
        options: ["Mais de 150 kg", "Entre 25 kg e 150 kg", "Menos de 25 kg", "Menos de 250 g"],
        correct: 0,
        hint: "S√£o os maiores drones regulamentados.",
        explanation: "A Classe 1 engloba aeronaves com PMD maior que 150 kg."
    },
    {
        question: "Segundo o RBAC-E 94, aeronaves Classe 2 possuem Peso M√°ximo de Decolagem (PMD) de:",
        options: ["Mais de 150 kg", "Mais de 25 kg e at√© 150 kg", "At√© 25 kg", "At√© 500 g"],
        correct: 1,
        hint: "Classe intermedi√°ria.",
        explanation: "A Classe 2 engloba aeronaves com PMD maior que 25 kg e menor ou igual a 150 kg."
    },
    {
        question: "Para operar drones da Classe 1 ou 2, qual documento m√©dico √© exigido do piloto?",
        options: ["Atestado de sa√∫de ocupacional", "Certificado M√©dico Aeron√°utico (CMA)", "Carteira de vacina√ß√£o", "Exame de vista simples"],
        correct: 1,
        hint: "O mesmo tipo de certificado exigido para pilotos da avia√ß√£o tripulada.",
        explanation: "Pilotos de RPA Classe 1 ou 2 devem possuir Certificado M√©dico Aeron√°utico (CMA) de 1¬™, 2¬™ ou 5¬™ Classe v√°lido."
    },
    {
        question: "Um piloto remoto pode operar quantos RPAS simultaneamente?",
        options: ["At√© 3 drones", "Apenas um √∫nico RPAS por vez", "Quantos conseguir controlar", "Dois, se forem do mesmo modelo"],
        correct: 1,
        hint: "Regra de seguran√ßa para manter a aten√ß√£o.",
        explanation: "Conforme as regras gerais de opera√ß√£o (RBAC-E 94), um piloto remoto somente pode operar um √∫nico RPAS por vez."
    },
    {
        question: "O que √© 'EVLOS'?",
        options: ["Opera√ß√£o Noturna", "Extended Visual Line of Sight (Opera√ß√£o com aux√≠lio de observadores)", "Opera√ß√£o totalmente aut√¥noma", "Opera√ß√£o acima das nuvens"],
        correct: 1,
        hint: "O piloto n√£o v√™ o drone, mas algu√©m v√™.",
        explanation: "EVLOS refere-se √† situa√ß√£o onde o Piloto Remoto n√£o mant√©m contato visual direto, necessitando do aux√≠lio de Observadores de RPA."
    },
    {
        question: "Qual a fun√ß√£o dos √ìrg√£os Regionais do DECEA (como CINDACTA e SRPV)?",
        options: ["Vender drones", "Fabricar pe√ßas de reposi√ß√£o", "Gerenciar e controlar o espa√ßo a√©reo em suas respectivas jurisdi√ß√µes", "Fiscalizar o peso dos drones"],
        correct: 2,
        hint: "Eles autorizam os voos na pr√°tica.",
        explanation: "Os √ìrg√£os Regionais (CINDACTAs e SRPV) s√£o respons√°veis por coordenar a√ß√µes de gerenciamento e controle do espa√ßo a√©reo em suas √°reas de jurisdi√ß√£o."
    },
    {
        question: "O que significa a sigla NOTAM?",
        options: ["Notice to Airman (Informa√ß√£o ao Piloto)", "No Time Available", "New Operation Tactics", "National Organization of Traffic"],
        correct: 0,
        hint: "Aviso importante sobre condi√ß√µes do espa√ßo a√©reo.",
        explanation: "NOTAM √© um aviso que cont√©m informa√ß√£o relativa ao estabelecimento, condi√ß√£o ou modifica√ß√£o de qualquer instala√ß√£o aeron√°utica, perigo ou servi√ßo."
    },
    {
        question: "Qual artigo do C√≥digo Penal Brasileiro trata sobre 'Expor a vida ou a sa√∫de de outrem a perigo direto e iminente'?",
        options: ["Art. 121", "Art. 132", "Art. 155", "Art. 33"],
        correct: 1,
        hint: "Crime de perigo para a vida.",
        explanation: "O Art. 132 do C√≥digo Penal pune quem exp√µe a vida ou a sa√∫de de outrem a perigo direto e iminente."
    },
    {
        question: "Qual artigo da Lei das Contraven√ß√µes Penais trata sobre 'Dirigir aeronave sem estar devidamente licenciado'?",
        options: ["Art. 33", "Art. 35", "Art. 28", "Art. 10"],
        correct: 0,
        hint: "Refere-se √† falta de licen√ßa ou habilita√ß√£o.",
        explanation: "O Art. 33 do Decreto Lei n¬∫ 3.688 trata da contraven√ß√£o de dirigir aeronave sem estar devidamente licenciado."
    },
    {
        question: "Conforme o CBA (Art. 303), em qual situa√ß√£o uma aeronave pode ser detida por autoridades?",
        options: ["Se o piloto estiver sem uniforme", "Se voar no espa√ßo a√©reo brasileiro com infra√ß√£o das autoriza√ß√µes", "Se a bateria estiver fraca", "Se o drone for Azul"],
        correct: 1,
        hint: "Viola√ß√£o de regras de tr√°fego e autoriza√ß√µes.",
        explanation: "O Art. 303 do CBA permite a deten√ß√£o da aeronave se voar com infra√ß√£o das conven√ß√µes, atos internacionais ou autoriza√ß√µes."
    },
    {
        question: "Para opera√ß√µes no ENTORNO de aer√≥dromos, qual a dist√¢ncia m√≠nima para voos at√© 100 p√©s?",
        options: ["500 m", "1130 m", "1740 m", "2350 m"],
        correct: 1,
        hint: "Dist√¢ncia menor que na ZAD.",
        explanation: "No entorno de aer√≥dromos, para voos at√© 100 ft, a dist√¢ncia m√≠nima √© de 1.130 metros."
    },
    {
        question: "Para opera√ß√µes no ENTORNO de aer√≥dromos, qual a dist√¢ncia m√≠nima para voos entre 300 e 400 p√©s?",
        options: ["1740 m", "2350 m", "2960 m", "3550 m"],
        correct: 2,
        hint: "Quase 3 km.",
        explanation: "No entorno de aer√≥dromos, para voos entre 300 ft e 400 ft, a dist√¢ncia m√≠nima √© de 2.960 metros."
    },
    {
        question: "Qual a velocidade m√°xima permitida para drones voando perto de aer√≥dromos em alturas at√© 100 p√©s, segundo as regras espec√≠ficas da ICA 100-40?",
        options: ["30 Kt (aprox. 60 km/h)", "60 Kt (aprox. 120 km/h)", "100 km/h", "Sem limite"],
        correct: 0,
        hint: "Velocidade reduzida para menor altura.",
        explanation: "Para opera√ß√µes at√© 100 ft pr√≥ximas a aer√≥dromos, a velocidade deve ser igual ou inferior a 30 Kt (aprox. 60 km/h)."
    },
    {
        question: "√â permitido o consumo de bebidas alco√≥licas ou subst√¢ncias psicoativas antes de operar um drone?",
        options: ["Sim, em pequena quantidade", "N√£o, as regras s√£o as mesmas da avia√ß√£o tripulada", "Sim, se for voo recreativo", "N√£o h√° regulamenta√ß√£o sobre isso"],
        correct: 1,
        hint: "Regra de ouro da seguran√ßa operacional.",
        explanation: "O piloto n√£o pode operar sob influ√™ncia de √°lcool ou drogas, aplicando-se as mesmas restri√ß√µes de seguran√ßa da avia√ß√£o tripulada."
    },
    {
        question: "Quem tem prioridade de passagem no espa√ßo a√©reo?",
        options: ["Drones da pol√≠cia", "Drones de entrega", "Aeronaves tripuladas", "Quem estiver mais r√°pido"],
        correct: 2,
        hint: "Vidas humanas a bordo t√™m prioridade.",
        explanation: "Aeronaves tripuladas sempre t√™m prioridade sobre aeronaves n√£o tripuladas. O drone deve ceder passagem imediatamente."
    },
    {
        question: "O que deve ser feito se uma aeronave tripulada se aproximar da √°rea de opera√ß√£o do drone?",
        options: ["Subir o drone para ver melhor", "Pousar imediatamente ou ceder passagem de forma segura", "Manter a posi√ß√£o", "Acenar com o drone"],
        correct: 1,
        hint: "Evitar colis√£o a todo custo.",
        explanation: "Toda opera√ß√£o de UA deve ser imediatamente encerrada ou ajustada para ceder passagem ao verificar a aproxima√ß√£o de aeronaves tripuladas."
    },
    {
        question: "O que √© 'Aeronave Org√¢nica' no contexto de opera√ß√µes p√∫blicas (MCA 56-5)?",
        options: ["Drone feito de material biodegrad√°vel", "Aeronave pertencente ou operada diretamente pela institui√ß√£o p√∫blica (ex: Guarda Civil)", "Aeronave alugada", "Drone de brinquedo"],
        correct: 1,
        hint: "Faz parte do '√≥rg√£o' p√∫blico.",
        explanation: "Aeronave org√¢nica √© aquela que pertence ao acervo patrimonial ou est√° sob responsabilidade direta da institui√ß√£o p√∫blica (√ìrg√£o Especial)."
    },
    {
        question: "Em uma Avalia√ß√£o de Risco Operacional (IS E94-003), o que significa 'Severidade'?",
        options: ["A frequ√™ncia do evento", "O grau da consequ√™ncia de um evento (ex: morte, ferimento)", "A dificuldade de pilotar", "O custo do drone"],
        correct: 1,
        hint: "O qu√£o ruim seria se algo desse errado.",
        explanation: "Severidade significa o grau da consequ√™ncia de um evento inseguro, variando de insignificante (danos materiais) a catastr√≥fico (mortes)."
    },
    {
        question: "Na matriz de risco, o N√≠vel A de Severidade corresponde a:",
        options: ["Insignificante", "Pequeno", "Cr√≠tico", "Catastr√≥fico (morte de m√∫ltiplas pessoas)"],
        correct: 3,
        hint: "O pior cen√°rio poss√≠vel.",
        explanation: "N√≠vel A √© classificado como Catastr√≥fico, implicando na morte de m√∫ltiplas pessoas."
    },
    {
        question: "Na matriz de risco, o que deve ser feito se o risco for classificado como 'Extremo'?",
        options: ["Continuar com cuidado", "A opera√ß√£o n√£o deve ocorrer ou deve cessar imediatamente", "Pedir autoriza√ß√£o verbal", "Voar mais baixo"],
        correct: 1,
        hint: "Risco inaceit√°vel.",
        explanation: "Para Risco Extremo, a opera√ß√£o n√£o deve ocorrer at√© que medidas mitigadoras reduzam o risco para um n√≠vel aceit√°vel."
    },
    {
        question: "Qual a finalidade do 'Log Book' ou registro de voos?",
        options: ["Guardar recorda√ß√µes", "Cumprir exig√™ncia da ANAC e permitir investiga√ß√£o em caso de incidentes", "Apenas para controle de bateria", "Mostrar para amigos"],
        correct: 1,
        hint: "Documento oficial do piloto e da aeronave.",
        explanation: "O operador deve manter registros de todos os voos (Log Book) em formato aceit√°vel pela ANAC, essencial tamb√©m para investiga√ß√µes."
    },
    {
        question: "O que √© proibido transportar em drones segundo as Regras Gerais de Opera√ß√£o?",
        options: ["C√¢meras", "Sensores", "Animais, pessoas e produtos perigosos", "Encomendas leves"],
        correct: 2,
        hint: "A menos que haja autoriza√ß√£o especial, √© vedado.",
        explanation: "√â proibido o transporte de pessoas, animais e produtos perigosos em RPAS."
    },
    {
        question: "Quem √© respons√°vel por assegurar que o drone possui o selo da ANATEL?",
        options: ["O fabricante e o propriet√°rio/operador", "Apenas a loja", "A ANAC", "O DECEA"],
        correct: 0,
        hint: "Equipamento n√£o homologado √© ilegal.",
        explanation: "O selo da ANATEL deve estar afixado no equipamento (transmissor e aeronave) e √© responsabilidade do operador garantir a homologa√ß√£o."
    },
    {
        question: "Qual o papel do 'Explorador' (Operador) no gerenciamento de seguran√ßa?",
        options: ["Nenhum, apenas o piloto importa", "Respons√°vel final pela condu√ß√£o segura, manuten√ß√£o e treinamento da equipe", "Apenas comprar o drone", "Apenas pagar o seguro"],
        correct: 1,
        hint: "√â o 'dono' da opera√ß√£o.",
        explanation: "O Explorador √© respons√°vel pelo gerenciamento de pessoal, manuten√ß√£o, documenta√ß√£o e pela seguran√ßa operacional de todo o sistema RPAS."
    },
    {
        question: "O acesso ao espa√ßo a√©reo para √ìrg√£os de Seguran√ßa P√∫blica (MCA 56-5) tem qual caracter√≠stica?",
        options: ["√â proibido", "Segue regras especiais para apoio a situa√ß√µes emergenciais", "√â igual ao recreativo", "N√£o precisa de cadastro"],
        correct: 1,
        hint: "Prioridade para salvar vidas ou seguran√ßa.",
        explanation: "O MCA 56-5 regulamenta o acesso para √≥rg√£os de seguran√ßa e defesa civil em situa√ß√µes emergenciais e opera√ß√µes especiais."
    },
    {
        question: "O que √© 'Probabilidade' na Avalia√ß√£o de Risco?",
        options: ["O tamanho do drone", "A frequ√™ncia com que um evento perigoso pode ocorrer", "A certeza de sucesso", "O tempo de voo"],
        correct: 1,
        hint: "N√≠veis de 1 (Muito improv√°vel) a 5 (Frequente).",
        explanation: "Probabilidade √© a frequ√™ncia estat√≠stica ou estimada com que um evento de perigo pode vir a acontecer."
    },
    {
        question: "O cadastro no SARPAS como 'Institui√ß√£o Prestadora de Servi√ßos Essenciais' permite:",
        options: ["Voar sem limites", "Opera√ß√µes sob as regras do MCA 56-5 (Emergenciais)", "Desconto na compra de drones", "Isen√ß√£o de seguro"],
        correct: 1,
        hint: "Habilita o perfil de √ìrg√£o P√∫blico/Especial.",
        explanation: "O cadastro institucional no SARPAS permite que o √≥rg√£o opere sob as prerrogativas do MCA 56-5 para miss√µes emergenciais."
    },
    {
        question: "Qual o limite de altura para voos VLOS sem necessidade de autoriza√ß√£o para espa√ßo a√©reo segregado (regra geral)?",
        options: ["120 metros (400 p√©s)", "500 metros", "100 metros", "50 metros"],
        correct: 0,
        hint: "Altura padr√£o internacional.",
        explanation: "A altura m√°xima permitida para opera√ß√µes padr√£o VLOS √© de 400 p√©s (aproximadamente 120 metros) acima do n√≠vel do solo."
    },
    {
        question: "A fiscaliza√ß√£o das opera√ß√µes de drones pode ser realizada por:",
        options: ["Apenas ANAC", "Apenas DECEA", "Apenas Pol√≠cia", "ANAC, DECEA, ANATEL e For√ßas de Seguran√ßa P√∫blica"],
        correct: 3,
        hint: "Cada um fiscaliza sua √°rea (espa√ßo a√©reo, documentos, r√°dio, penal).",
        explanation: "A fiscaliza√ß√£o √© conjunta: ANAC (normas civis), DECEA (espa√ßo a√©reo), ANATEL (radiofrequ√™ncia) e Pol√≠cia (seguran√ßa p√∫blica/penal)."
    },
    {
        question: "O que deve ser feito antes de iniciar qualquer voo (Pr√©-voo)?",
        options: ["Apenas ligar o drone", "Tomar ci√™ncia de todas as informa√ß√µes necess√°rias e planejar o voo", "Postar foto na rede social", "N√£o precisa fazer nada"],
        correct: 1,
        hint: "Planejamento √© essencial.",
        explanation: "O piloto remoto deve tomar ci√™ncia de todas as informa√ß√µes necess√°rias ao planejamento do voo antes da decolagem."
    },
    {
        question: "Em caso de perda de link (C2 Link) durante o voo, o que o drone deve fazer?",
        options: ["Cair imediatamente", "Executar o procedimento de 'Return to Home' ou pouso de seguran√ßa configurado", "Ficar parado at√© acabar a bateria", "Voar para cima"],
        correct: 1,
        hint: "Configura√ß√£o de Fail-Safe.",
        explanation: "Sistemas RPAS devem ter procedimentos de conting√™ncia, como o retorno autom√°tico (RTH), em caso de perda de comando e controle."
    },
	{
        question: "Qual a validade do cadastro de aeronave n√£o tripulada na ANAC (Certid√£o de Cadastro)?",
        options: ["1 ano", "2 anos", "Indeterminada", "5 anos"],
        correct: 1,
        hint: "Precisa renovar periodicamente no SISANT.",
        explanation: "A certid√£o de cadastro emitida pelo SISANT √© v√°lida por 2 anos, podendo ser renovada."
    },
    {
        question: "O seguro RETA cobre danos ao pr√≥prio drone?",
        options: ["Sim, cobre tudo", "N√£o, cobre apenas danos a terceiros no solo", "Sim, se cair na √°gua", "Sim, se for roubado"],
        correct: 1,
        hint: "√â um seguro de Responsabilidade Civil.",
        explanation: "O Seguro RETA √© obrigat√≥rio para danos a terceiros na superf√≠cie. Danos ao pr√≥prio equipamento (casco) requerem outro tipo de seguro opcional."
    },
    {
        question: "O que √© '√Årea Distante de Terceiros'?",
        options: ["Qualquer lugar fora de casa", "√Årea onde o piloto garante que n√£o h√° pessoas n√£o envolvidas na opera√ß√£o num raio de seguran√ßa", "√Årea urbana", "Aeroporto"],
        correct: 1,
        hint: "Conceito chave para aeromodelismo e opera√ß√µes b√°sicas.",
        explanation: "Refere-se a √°reas onde a opera√ß√£o pode ser conduzida sem colocar em risco pessoas n√£o envolvidas (terceiros)."
    },
    {
        question: "Opera√ß√µes 'At√≠picas' (ex: Sobrevoar Manifesta√ß√µes) exigem:",
        options: ["Apenas coragem", "Autoriza√ß√£o e coordena√ß√£o especial com o DECEA", "Nenhuma autoriza√ß√£o extra", "Apenas seguro"],
        correct: 1,
        hint: "Foge do padr√£o de 1 piloto = 1 drone.",
        explanation: "Opera√ß√µes com m√∫ltiplas aeronaves ou caracter√≠sticas fora do padr√£o exigem an√°lise e autoriza√ß√£o espec√≠fica do DECEA."
    },
    {
        question: "Qual o nome do relat√≥rio operacional de seguran√ßa preenchido ap√≥s o voo na ficha modelo apresentada no curso?",
        options: ["Relat√≥rio de Miss√£o", "Relat√≥rio Operacional", "Di√°rio de Bordo", "Ficha de Ocorr√™ncia"],
        correct: 1,
        hint: "Est√° no t√≠tulo do documento na p√°gina 12.",
        explanation: "O documento apresentado como exemplo de registro p√≥s-voo √© o 'Relat√≥rio Operacional'."
    },
    {
        question: "O que significa a sigla RPA?",
        options: ["Robot Plane Aviation", "Remotely Piloted Aircraft (Aeronave Remotamente Pilotada)", "Real Pilot Action", "Radio Plane Association"],
        correct: 1,
        hint: "Termo t√©cnico oficial.",
        explanation: "RPA significa Aeronave Remotamente Pilotada, uma subcategoria das aeronaves n√£o tripuladas."
    },
    {
        question: "A opera√ß√£o de aeromodelos (recreativa) acima de 250g √© permitida onde?",
        options: ["Em qualquer lugar", "Somente em √°reas distantes de terceiros e autorizadas", "Em cima de multid√µes", "Perto de aeroportos"],
        correct: 1,
        hint: "Regra do RBAC-E 94 para aeromodelos.",
        explanation: "Aeromodelos > 250g s√≥ podem operar em √°reas distantes de terceiros, sob total responsabilidade do operador."
    },
    {
        question: "O cidad√£o pode denunciar opera√ß√µes irregulares de drones?",
        options: ["N√£o, √© proibido", "Sim, deve encaminhar provas (materialidade e autoria) ao DECEA/Pol√≠cia", "Apenas se for o dono do drone", "Apenas anonimamente"],
        correct: 1,
        hint: "Incentivo √† fiscaliza√ß√£o social.",
        explanation: "Qualquer cidad√£o pode denunciar irregularidades, preferencialmente fornecendo provas de autoria e materialidade aos √≥rg√£os competentes."
    },
    {
        question: "Qual a penalidade administrativa prevista no CBA para quem fornece informa√ß√µes inexatas ou adulteradas?",
        options: ["Elogio", "Suspens√£o ou cassa√ß√£o de certificados", "Aumento de sal√°rio", "Transfer√™ncia"],
        correct: 1,
        hint: "Artigo 299, inciso V do CBA.",
        explanation: "O fornecimento de dados inexatos ou adulterados pode levar √† suspens√£o ou cassa√ß√£o de certificados e habilita√ß√µes."
    }
];

        // --- 2. VARI√ÅVEIS ---
        let quizData = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let wrongAnswers = [];
        
        // DOM
        const questionTextEl = document.getElementById('question-text');
        const optionsListEl = document.getElementById('options-list');
        const hintTextEl = document.getElementById('hint-text');
        const hintContentEl = document.querySelector('.hint-content');
        const nextBtn = document.getElementById('next-btn');
        const skipBtn = document.getElementById('skip-btn');
        const explanationBox = document.getElementById('explanation-box');
        const explanationText = document.getElementById('explanation-text');
        const counterEl = document.getElementById('question-counter');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const retryBtn = document.getElementById('retry-btn');

        // --- 3. L√ìGICA ---
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function initQuiz() {
            quizData = [...MASTER_DATA];
            shuffleArray(quizData);
            currentQuestionIndex = 0;
            score = 0;
            wrongAnswers = [];
            loadQuestion();
        }

        function loadQuestion() {
            resetState();
            const currentData = quizData[currentQuestionIndex];
            
            counterEl.textContent = `Quest√£o ${currentQuestionIndex + 1} de ${quizData.length}`;
            questionTextEl.textContent = currentData.question;
            hintTextEl.textContent = currentData.hint;

            const labels = ['A', 'B', 'C', 'D'];
            currentData.options.forEach((optionText, index) => {
                const li = document.createElement('li');
                li.className = 'option';
                li.dataset.index = index; 
                li.innerHTML = `
                    <span class="elimination-toggle" title="Clique para eliminar" onclick="toggleElimination(event, this.parentNode)">x</span>
                    <strong>${labels[index]})</strong> ${optionText}
                `;
                li.onclick = (event) => checkAnswer(index, li);
                optionsListEl.appendChild(li);
            });

            // Mostra o bot√£o pular sutilmente no topo, se n√£o for a √∫ltima
            if (currentQuestionIndex < quizData.length - 1) {
                skipBtn.style.display = 'block';
            } else {
                skipBtn.style.display = 'none';
            }
        }

        function resetState() {
            nextBtn.style.display = 'none';
            explanationBox.style.display = 'none';
            hintContentEl.style.display = 'none';
            while (optionsListEl.firstChild) {
                optionsListEl.removeChild(optionsListEl.firstChild);
            }
        }

        function skipQuestion() {
            const skippedQuestion = quizData[currentQuestionIndex];
            quizData.splice(currentQuestionIndex, 1);
            quizData.push(skippedQuestion);
            loadQuestion();
        }

        function toggleElimination(event, optionElement) {
            event.stopPropagation(); 
            if (optionElement.classList.contains('disabled')) return;
            const toggleSpan = event.currentTarget;
            if (optionElement.classList.contains('eliminated')) {
                optionElement.classList.remove('eliminated');
                toggleSpan.textContent = 'x';
                toggleSpan.title = 'Clique para eliminar';
            } else {
                optionElement.classList.add('eliminated');
                toggleSpan.textContent = '‚ü≥';
                toggleSpan.title = 'Clique para restaurar';
            }
        }

        function toggleHint() {
            if (hintContentEl.style.display === 'block') {
                hintContentEl.style.display = 'none';
            } else {
                hintContentEl.style.display = 'block';
            }
        }

        function checkAnswer(selectedIndex, selectedElement) {
            const currentData = quizData[currentQuestionIndex];
            const options = optionsListEl.children;
            
            // Esconde o bot√£o pular
            skipBtn.style.display = 'none';

            for (let opt of options) {
                opt.classList.add('disabled');
            }

            if (selectedIndex === currentData.correct) {
                score++;
                selectedElement.classList.add('correct');
                selectedElement.innerHTML += ` <span class="icon">‚úî Correto!</span>`;
            } else {
                wrongAnswers.push(currentData); 
                selectedElement.classList.add('incorrect');
                selectedElement.innerHTML += ` <div class="feedback-msg"><span style="font-size:1.2em">‚ùå</span> N√£o era bem isso.</div>`;
                
                const correctOption = options[currentData.correct];
                correctOption.classList.remove('eliminated');
                const toggle = correctOption.querySelector('.elimination-toggle');
                if(toggle) toggle.style.display = 'none';

                correctOption.classList.add('correct');
                correctOption.innerHTML += ` <span class="icon">‚úî Esta √© a correta</span>`;
            }

            explanationText.textContent = currentData.explanation;
            explanationBox.style.display = 'block';
            nextBtn.style.display = 'block';
        }

        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < quizData.length) {
                loadQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            quizScreen.style.display = 'none';
            resultScreen.style.display = 'block';
            
            const percentage = Math.round((score / quizData.length) * 100);
            document.getElementById('final-score').textContent = `${percentage}%`;
            
            const summary = document.getElementById('result-summary');
            summary.textContent = `Voc√™ acertou ${score} de ${quizData.length} quest√µes.`;

            if (wrongAnswers.length > 0) {
                retryBtn.style.display = 'block';
                retryBtn.textContent = `‚Ü∫ Refazer ${wrongAnswers.length} Erradas`;
            } else {
                retryBtn.style.display = 'none';
                summary.textContent += " Parab√©ns! Voc√™ gabaritou! üèÜ";
            }
        }

        function retryWrongAnswers() {
            quizData = [...wrongAnswers];
            shuffleArray(quizData);
            wrongAnswers = []; 
            currentQuestionIndex = 0;
            score = 0;
            resultScreen.style.display = 'none';
            quizScreen.style.display = 'block';
            loadQuestion();
        }

        initQuiz();
    </script>
</body>
</html>